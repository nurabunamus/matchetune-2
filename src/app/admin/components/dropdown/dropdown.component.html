<main>
  <div class="selector">
    <div
      class="label"
      (click)="setDropdown()"
      [ngClass]="{ active: isDropdown }"
    >
      <span>
        {{
          approaches[indexSel]?.name ? approaches[indexSel]?.name : "approach"
        }}</span
      >
      <svg
        xmlns="http://www.w3.org/2000/svg"
        id="Layer_1"
        x="0"
        y="0"
        version="1.1"
        viewBox="0 0 29 29"
        xml:space="preserve"
      >
        <path
          fill="none"
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-miterlimit="10"
          stroke-width="2"
          d="M20.5 11.5l-6 6-6-6"
        />
      </svg>
    </div>
    <div class="rows" *ngIf="isDropdown">
      <div *ngIf="addRow" class="row">
        <input [(ngModel)]="label" type="text" placeholder="title.." />
        <button (click)="addApproach()" type="button" class="btn_add">+</button>
      </div>
      <div *ngIf="!addRow" class="row add" (click)="onAddApproach()">
        + approach
      </div>
      <div
        *ngFor="let item of approaches; index as i"
        class="row"
        (click)="onChangeApproach(i)"
        [class.active]="approaches[indexSel].name === item.name"
      >
        {{ item.name }}
      </div>
    </div>
  </div>

  <div class="selector" *ngIf="showCategories">
    <div
      class="label"
      (click)="setDropdown2()"
      [ngClass]="{ active: isDropdown2 }"
    >
      <span> {{ selectedCategory.name }}</span>
      <svg
        xmlns="http://www.w3.org/2000/svg"
        id="Layer_1"
        x="0"
        y="0"
        version="1.1"
        viewBox="0 0 29 29"
        xml:space="preserve"
      >
        <path
          fill="none"
          stroke="#000"
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-miterlimit="10"
          stroke-width="2"
          d="M20.5 11.5l-6 6-6-6"
        />
      </svg>
    </div>
    <div class="rows" *ngIf="isDropdown2">
      <div *ngIf="addRow2" class="row">
        <input [(ngModel)]="labelCat" type="text" placeholder="title.." />
        <button (click)="addCategry()" type="button" class="btn_add">+</button>
      </div>
      <div *ngIf="!addRow2" class="row add" (click)="onAddCategry()">
        + category
      </div>
      <div
        *ngFor="let item of approaches[indexSel].categories"
        class="row"
        [class.active]="selectedCategory?.name === item.name"
        (click)="onChangeCategry(item)"
      >
        {{ item.name }}
      </div>
    </div>
  </div>
</main>
